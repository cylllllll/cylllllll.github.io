<!DOCTYPE html>













<html lang="zh-cn">
  <head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />

  
  <title>æ ‘è“æ´¾æ­å»ºä½é…ç‰ˆæ–‡ä»¶å­˜å‚¨/å®¶åº­å½±éŸ³åº“ - cy&#39;s Blog ğŸ‰</title>

  
  
  <meta name="description" content="å®¶é‡Œæœ‰ä¸ª Raspberry Pi 4B åªè£…äº† HomeBridge æ¥æ¥å…¥å®¶ç”µæ„Ÿè§‰æœ‰ç‚¹æµªè´¹ï¼Œæ­£å¥½åˆæœ‰ç®€å•çš„å®¶åº­å½±éŸ³åº“éœ€æ±‚ï¼Œæ‰€ä»¥å°±æœ‰äº†è¿™ç¯‡æ–‡ç« ã€‚
Raspberry Pi 4B è¿™ä»£æ­é…åƒå…†ç½‘å£å’Œ USB3.0 ï¼Œç»ˆäºæ¢æ‰äº†ä¸€ç›´ä»¤äººè¯Ÿç—…çš„ USB2.0 ï¼Œè‡³æ­¤é€Ÿåº¦ç†è®ºä¸Šå¯ä»¥è·‘æ»¡åƒå…†å¸¦å®½ï¼ŒåŸºæœ¬ä¸Šèƒ½æ»¡è¶³æˆ‘çš„æ—¥å¸¸éœ€æ±‚ã€‚
éœ€è¦è®¾å¤‡ææ–™ï¼š Raspberry Pi 4B æ­è½½ Raspberry Pi OSï¼ˆå…¶ä»–çš„å¯ä»¥ TFå¡ï¼ˆåšç³»ç»Ÿç›˜ï¼‰ åƒå…†è·¯ç”±å™¨ CAT6ç½‘çº¿ ä¸€ä¸ªç¡¬ç›˜
ç¡¬ç›˜æŒ‚è½½ æ‰‹åŠ¨æŒ‚è½½ç¡¬ç›˜ æ¯•ç«ŸTFå¡åšç³»ç»Ÿç›˜ä¹Ÿå­˜ä¸äº†å¤šå°‘æ•°æ®ï¼Œæ‰€ä»¥ç¬¬ä¸€ä»¶äº‹å°±æ˜¯æŠŠå‡†å¤‡å¥½çš„ç£ç›˜æŒ‚è½½ä¸Šï¼Œæˆ‘ç”¨çš„æ˜¯æ—§ç”µè„‘æ‹†ä¸‹æ¥è¥¿æ•°æœºæ¢°ç¡¬ç›˜ï¼Œä¹°äº†ä¸ªç¡¬ç›˜ç›’è®©å®ƒå‘æŒ¥ä½™çƒ­ã€‚ é¦–å…ˆæ’ä¸Šç¡¬ç›˜é€šè¿‡sudo fdisk -læŸ¥çœ‹ä»¥ä¸‹ç¡¬ç›˜çŠ¶æ€ï¼š è¿™ä¸ªå°±æ˜¯æˆ‘ä»¬æ’ä¸Šçš„ç¡¬ç›˜ï¼Œæ­¤æ—¶æˆ‘ä»¬å¯ä»¥æŒ‚è½½åˆ°æŒ‡å®šç›®å½•ä¸‹ï¼š sudo mount Devideåç§° è‡ªå®šä¹‰çš„æŒ‡å®šç›®å½• ä¸¾ä¾‹ï¼š sudo mount /dev/sda1 /media/pi/O è®°å¾—å…ˆåˆ›å»ºä¸€ä¸‹storageæ–‡ä»¶å¤¹sudo mkdir /media/pi/O å†æ¬¡æŸ¥çœ‹ç¡¬ç›˜çŠ¶æ€df -hï¼Œæ­¤æ—¶/dev/sda1å·²ç»æŒ‚è½½ä¸Šå»äº†ã€‚ ä»¥ä¸Šå°±æ˜¯æ‰‹åŠ¨æŒ‚è½½çš„æ–¹å¼ï¼Œä½†æ˜¯è¿«äºæ–­ç”µé‡å¯çš„é—®é¢˜ï¼Œæ¯æ¬¡æŒ‚è½½æœ‰ç‚¹éº»çƒ¦ï¼Œæ‰€ä»¥è®¾ç½®å¯åŠ¨æ—¶è‡ªåŠ¨æŒ‚è½½ç¡¬ç›˜æ˜¯ä¸ªä¸é”™çš„åŠæ³•
è‡ªåŠ¨æŒ‚è½½ç¡¬ç›˜ åœ¨ç³»ç»Ÿå¼€æœºæ—¶ä¼šä¸»åŠ¨è¯»å–/etc/fstabè¿™ä¸ªæ–‡ä»¶ä¸­çš„å†…å®¹ï¼Œæ ¹æ®æ–‡ä»¶é‡Œé¢çš„é…ç½®æŒ‚è½½ç£ç›˜ã€‚ æ‰€ä»¥æˆ‘ä»¬åªéœ€åœ¨/etc/fstabåŠ å…¥æˆ‘ä»¬ç¡¬ç›˜ä¿¡æ¯å³å¯ã€‚ é¦–å…ˆç¼–è¾‘æ–‡ä»¶ï¼šsudo vi /etc/fstab åŠ å…¥UUID æŒ‡å®šç›®å½• ç¡¬ç›˜æ–‡ä»¶ç³»ç»Ÿæ ¼å¼ defaults 0 0
å½“ä½ ä¸çŸ¥é“ç¡¬ç›˜æ–‡ä»¶ç³»ç»Ÿæ ¼å¼æ—¶ï¼Œå¯ä»¥é€šè¿‡sudo blkidæŸ¥çœ‹ç¡¬ç›˜çš„UUIDå’ŒTYPE ä¸¾ä¾‹ï¼š UUID=&quot;34D58C3DFA562624&quot; /media/pi/O ntfs defaults 0 0 smbæ–‡ä»¶å…±äº« å®‰è£… é¦–å…ˆå®‰è£…ä¸€ä¸‹sambaæœåŠ¡ï¼š" />
  <meta name="author" content="" />
  

  
  
  
  
  
  
  <link rel="preload stylesheet" as="style" href="https://cylllllll.github.io/app.min.css" />

  
  <link rel="preload stylesheet" as="style" href="https://cylllllll.github.io/an-old-hope.min.css" />
  <script
    defer
    src="https://cylllllll.github.io/highlight.min.js"
    onload="hljs.initHighlightingOnLoad();"
  ></script>
  

  
  <link rel="preload" as="image" href="https://cylllllll.github.io/theme.png" />

  
  <link rel="preload" as="image" href="https://cylllllll.github.io/github.svg" />
  

  
  <link rel="icon" href="https://cylllllll.github.io/favicon.ico" />
  <link rel="apple-touch-icon" href="https://cylllllll.github.io/apple-touch-icon.png" />

  
  <meta name="generator" content="Hugo 0.101.0" />

  
  

  
  
  
  
  
  
  
  
  
  <meta property="og:title" content="æ ‘è“æ´¾æ­å»ºä½é…ç‰ˆæ–‡ä»¶å­˜å‚¨/å®¶åº­å½±éŸ³åº“" />
<meta property="og:description" content="å®¶é‡Œæœ‰ä¸ª Raspberry Pi 4B åªè£…äº† HomeBridge æ¥æ¥å…¥å®¶ç”µæ„Ÿè§‰æœ‰ç‚¹æµªè´¹ï¼Œæ­£å¥½åˆæœ‰ç®€å•çš„å®¶åº­å½±éŸ³åº“éœ€æ±‚ï¼Œæ‰€ä»¥å°±æœ‰äº†è¿™ç¯‡æ–‡ç« ã€‚
Raspberry Pi 4B è¿™ä»£æ­é…åƒå…†ç½‘å£å’Œ USB3.0 ï¼Œç»ˆäºæ¢æ‰äº†ä¸€ç›´ä»¤äººè¯Ÿç—…çš„ USB2.0 ï¼Œè‡³æ­¤é€Ÿåº¦ç†è®ºä¸Šå¯ä»¥è·‘æ»¡åƒå…†å¸¦å®½ï¼ŒåŸºæœ¬ä¸Šèƒ½æ»¡è¶³æˆ‘çš„æ—¥å¸¸éœ€æ±‚ã€‚
éœ€è¦è®¾å¤‡ææ–™ï¼š Raspberry Pi 4B æ­è½½ Raspberry Pi OSï¼ˆå…¶ä»–çš„å¯ä»¥ TFå¡ï¼ˆåšç³»ç»Ÿç›˜ï¼‰ åƒå…†è·¯ç”±å™¨ CAT6ç½‘çº¿ ä¸€ä¸ªç¡¬ç›˜
ç¡¬ç›˜æŒ‚è½½ æ‰‹åŠ¨æŒ‚è½½ç¡¬ç›˜ æ¯•ç«ŸTFå¡åšç³»ç»Ÿç›˜ä¹Ÿå­˜ä¸äº†å¤šå°‘æ•°æ®ï¼Œæ‰€ä»¥ç¬¬ä¸€ä»¶äº‹å°±æ˜¯æŠŠå‡†å¤‡å¥½çš„ç£ç›˜æŒ‚è½½ä¸Šï¼Œæˆ‘ç”¨çš„æ˜¯æ—§ç”µè„‘æ‹†ä¸‹æ¥è¥¿æ•°æœºæ¢°ç¡¬ç›˜ï¼Œä¹°äº†ä¸ªç¡¬ç›˜ç›’è®©å®ƒå‘æŒ¥ä½™çƒ­ã€‚ é¦–å…ˆæ’ä¸Šç¡¬ç›˜é€šè¿‡sudo fdisk -læŸ¥çœ‹ä»¥ä¸‹ç¡¬ç›˜çŠ¶æ€ï¼š è¿™ä¸ªå°±æ˜¯æˆ‘ä»¬æ’ä¸Šçš„ç¡¬ç›˜ï¼Œæ­¤æ—¶æˆ‘ä»¬å¯ä»¥æŒ‚è½½åˆ°æŒ‡å®šç›®å½•ä¸‹ï¼š sudo mount Devideåç§° è‡ªå®šä¹‰çš„æŒ‡å®šç›®å½• ä¸¾ä¾‹ï¼š sudo mount /dev/sda1 /media/pi/O è®°å¾—å…ˆåˆ›å»ºä¸€ä¸‹storageæ–‡ä»¶å¤¹sudo mkdir /media/pi/O å†æ¬¡æŸ¥çœ‹ç¡¬ç›˜çŠ¶æ€df -hï¼Œæ­¤æ—¶/dev/sda1å·²ç»æŒ‚è½½ä¸Šå»äº†ã€‚ ä»¥ä¸Šå°±æ˜¯æ‰‹åŠ¨æŒ‚è½½çš„æ–¹å¼ï¼Œä½†æ˜¯è¿«äºæ–­ç”µé‡å¯çš„é—®é¢˜ï¼Œæ¯æ¬¡æŒ‚è½½æœ‰ç‚¹éº»çƒ¦ï¼Œæ‰€ä»¥è®¾ç½®å¯åŠ¨æ—¶è‡ªåŠ¨æŒ‚è½½ç¡¬ç›˜æ˜¯ä¸ªä¸é”™çš„åŠæ³•
è‡ªåŠ¨æŒ‚è½½ç¡¬ç›˜ åœ¨ç³»ç»Ÿå¼€æœºæ—¶ä¼šä¸»åŠ¨è¯»å–/etc/fstabè¿™ä¸ªæ–‡ä»¶ä¸­çš„å†…å®¹ï¼Œæ ¹æ®æ–‡ä»¶é‡Œé¢çš„é…ç½®æŒ‚è½½ç£ç›˜ã€‚ æ‰€ä»¥æˆ‘ä»¬åªéœ€åœ¨/etc/fstabåŠ å…¥æˆ‘ä»¬ç¡¬ç›˜ä¿¡æ¯å³å¯ã€‚ é¦–å…ˆç¼–è¾‘æ–‡ä»¶ï¼šsudo vi /etc/fstab åŠ å…¥UUID æŒ‡å®šç›®å½• ç¡¬ç›˜æ–‡ä»¶ç³»ç»Ÿæ ¼å¼ defaults 0 0
å½“ä½ ä¸çŸ¥é“ç¡¬ç›˜æ–‡ä»¶ç³»ç»Ÿæ ¼å¼æ—¶ï¼Œå¯ä»¥é€šè¿‡sudo blkidæŸ¥çœ‹ç¡¬ç›˜çš„UUIDå’ŒTYPE ä¸¾ä¾‹ï¼š UUID=&quot;34D58C3DFA562624&quot; /media/pi/O ntfs defaults 0 0 smbæ–‡ä»¶å…±äº« å®‰è£… é¦–å…ˆå®‰è£…ä¸€ä¸‹sambaæœåŠ¡ï¼š" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cylllllll.github.io/post/raspberry/" /><meta property="article:section" content="post" />
<meta property="article:published_time" content="2021-09-27T16:00:01+00:00" />
<meta property="article:modified_time" content="2021-09-27T16:00:01+00:00" />


  
  <meta itemprop="name" content="æ ‘è“æ´¾æ­å»ºä½é…ç‰ˆæ–‡ä»¶å­˜å‚¨/å®¶åº­å½±éŸ³åº“">
<meta itemprop="description" content="å®¶é‡Œæœ‰ä¸ª Raspberry Pi 4B åªè£…äº† HomeBridge æ¥æ¥å…¥å®¶ç”µæ„Ÿè§‰æœ‰ç‚¹æµªè´¹ï¼Œæ­£å¥½åˆæœ‰ç®€å•çš„å®¶åº­å½±éŸ³åº“éœ€æ±‚ï¼Œæ‰€ä»¥å°±æœ‰äº†è¿™ç¯‡æ–‡ç« ã€‚
Raspberry Pi 4B è¿™ä»£æ­é…åƒå…†ç½‘å£å’Œ USB3.0 ï¼Œç»ˆäºæ¢æ‰äº†ä¸€ç›´ä»¤äººè¯Ÿç—…çš„ USB2.0 ï¼Œè‡³æ­¤é€Ÿåº¦ç†è®ºä¸Šå¯ä»¥è·‘æ»¡åƒå…†å¸¦å®½ï¼ŒåŸºæœ¬ä¸Šèƒ½æ»¡è¶³æˆ‘çš„æ—¥å¸¸éœ€æ±‚ã€‚
éœ€è¦è®¾å¤‡ææ–™ï¼š Raspberry Pi 4B æ­è½½ Raspberry Pi OSï¼ˆå…¶ä»–çš„å¯ä»¥ TFå¡ï¼ˆåšç³»ç»Ÿç›˜ï¼‰ åƒå…†è·¯ç”±å™¨ CAT6ç½‘çº¿ ä¸€ä¸ªç¡¬ç›˜
ç¡¬ç›˜æŒ‚è½½ æ‰‹åŠ¨æŒ‚è½½ç¡¬ç›˜ æ¯•ç«ŸTFå¡åšç³»ç»Ÿç›˜ä¹Ÿå­˜ä¸äº†å¤šå°‘æ•°æ®ï¼Œæ‰€ä»¥ç¬¬ä¸€ä»¶äº‹å°±æ˜¯æŠŠå‡†å¤‡å¥½çš„ç£ç›˜æŒ‚è½½ä¸Šï¼Œæˆ‘ç”¨çš„æ˜¯æ—§ç”µè„‘æ‹†ä¸‹æ¥è¥¿æ•°æœºæ¢°ç¡¬ç›˜ï¼Œä¹°äº†ä¸ªç¡¬ç›˜ç›’è®©å®ƒå‘æŒ¥ä½™çƒ­ã€‚ é¦–å…ˆæ’ä¸Šç¡¬ç›˜é€šè¿‡sudo fdisk -læŸ¥çœ‹ä»¥ä¸‹ç¡¬ç›˜çŠ¶æ€ï¼š è¿™ä¸ªå°±æ˜¯æˆ‘ä»¬æ’ä¸Šçš„ç¡¬ç›˜ï¼Œæ­¤æ—¶æˆ‘ä»¬å¯ä»¥æŒ‚è½½åˆ°æŒ‡å®šç›®å½•ä¸‹ï¼š sudo mount Devideåç§° è‡ªå®šä¹‰çš„æŒ‡å®šç›®å½• ä¸¾ä¾‹ï¼š sudo mount /dev/sda1 /media/pi/O è®°å¾—å…ˆåˆ›å»ºä¸€ä¸‹storageæ–‡ä»¶å¤¹sudo mkdir /media/pi/O å†æ¬¡æŸ¥çœ‹ç¡¬ç›˜çŠ¶æ€df -hï¼Œæ­¤æ—¶/dev/sda1å·²ç»æŒ‚è½½ä¸Šå»äº†ã€‚ ä»¥ä¸Šå°±æ˜¯æ‰‹åŠ¨æŒ‚è½½çš„æ–¹å¼ï¼Œä½†æ˜¯è¿«äºæ–­ç”µé‡å¯çš„é—®é¢˜ï¼Œæ¯æ¬¡æŒ‚è½½æœ‰ç‚¹éº»çƒ¦ï¼Œæ‰€ä»¥è®¾ç½®å¯åŠ¨æ—¶è‡ªåŠ¨æŒ‚è½½ç¡¬ç›˜æ˜¯ä¸ªä¸é”™çš„åŠæ³•
è‡ªåŠ¨æŒ‚è½½ç¡¬ç›˜ åœ¨ç³»ç»Ÿå¼€æœºæ—¶ä¼šä¸»åŠ¨è¯»å–/etc/fstabè¿™ä¸ªæ–‡ä»¶ä¸­çš„å†…å®¹ï¼Œæ ¹æ®æ–‡ä»¶é‡Œé¢çš„é…ç½®æŒ‚è½½ç£ç›˜ã€‚ æ‰€ä»¥æˆ‘ä»¬åªéœ€åœ¨/etc/fstabåŠ å…¥æˆ‘ä»¬ç¡¬ç›˜ä¿¡æ¯å³å¯ã€‚ é¦–å…ˆç¼–è¾‘æ–‡ä»¶ï¼šsudo vi /etc/fstab åŠ å…¥UUID æŒ‡å®šç›®å½• ç¡¬ç›˜æ–‡ä»¶ç³»ç»Ÿæ ¼å¼ defaults 0 0
å½“ä½ ä¸çŸ¥é“ç¡¬ç›˜æ–‡ä»¶ç³»ç»Ÿæ ¼å¼æ—¶ï¼Œå¯ä»¥é€šè¿‡sudo blkidæŸ¥çœ‹ç¡¬ç›˜çš„UUIDå’ŒTYPE ä¸¾ä¾‹ï¼š UUID=&quot;34D58C3DFA562624&quot; /media/pi/O ntfs defaults 0 0 smbæ–‡ä»¶å…±äº« å®‰è£… é¦–å…ˆå®‰è£…ä¸€ä¸‹sambaæœåŠ¡ï¼š"><meta itemprop="datePublished" content="2021-09-27T16:00:01+00:00" />
<meta itemprop="dateModified" content="2021-09-27T16:00:01+00:00" />
<meta itemprop="wordCount" content="401">
<meta itemprop="keywords" content="" />
  
  <meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="æ ‘è“æ´¾æ­å»ºä½é…ç‰ˆæ–‡ä»¶å­˜å‚¨/å®¶åº­å½±éŸ³åº“"/>
<meta name="twitter:description" content="å®¶é‡Œæœ‰ä¸ª Raspberry Pi 4B åªè£…äº† HomeBridge æ¥æ¥å…¥å®¶ç”µæ„Ÿè§‰æœ‰ç‚¹æµªè´¹ï¼Œæ­£å¥½åˆæœ‰ç®€å•çš„å®¶åº­å½±éŸ³åº“éœ€æ±‚ï¼Œæ‰€ä»¥å°±æœ‰äº†è¿™ç¯‡æ–‡ç« ã€‚
Raspberry Pi 4B è¿™ä»£æ­é…åƒå…†ç½‘å£å’Œ USB3.0 ï¼Œç»ˆäºæ¢æ‰äº†ä¸€ç›´ä»¤äººè¯Ÿç—…çš„ USB2.0 ï¼Œè‡³æ­¤é€Ÿåº¦ç†è®ºä¸Šå¯ä»¥è·‘æ»¡åƒå…†å¸¦å®½ï¼ŒåŸºæœ¬ä¸Šèƒ½æ»¡è¶³æˆ‘çš„æ—¥å¸¸éœ€æ±‚ã€‚
éœ€è¦è®¾å¤‡ææ–™ï¼š Raspberry Pi 4B æ­è½½ Raspberry Pi OSï¼ˆå…¶ä»–çš„å¯ä»¥ TFå¡ï¼ˆåšç³»ç»Ÿç›˜ï¼‰ åƒå…†è·¯ç”±å™¨ CAT6ç½‘çº¿ ä¸€ä¸ªç¡¬ç›˜
ç¡¬ç›˜æŒ‚è½½ æ‰‹åŠ¨æŒ‚è½½ç¡¬ç›˜ æ¯•ç«ŸTFå¡åšç³»ç»Ÿç›˜ä¹Ÿå­˜ä¸äº†å¤šå°‘æ•°æ®ï¼Œæ‰€ä»¥ç¬¬ä¸€ä»¶äº‹å°±æ˜¯æŠŠå‡†å¤‡å¥½çš„ç£ç›˜æŒ‚è½½ä¸Šï¼Œæˆ‘ç”¨çš„æ˜¯æ—§ç”µè„‘æ‹†ä¸‹æ¥è¥¿æ•°æœºæ¢°ç¡¬ç›˜ï¼Œä¹°äº†ä¸ªç¡¬ç›˜ç›’è®©å®ƒå‘æŒ¥ä½™çƒ­ã€‚ é¦–å…ˆæ’ä¸Šç¡¬ç›˜é€šè¿‡sudo fdisk -læŸ¥çœ‹ä»¥ä¸‹ç¡¬ç›˜çŠ¶æ€ï¼š è¿™ä¸ªå°±æ˜¯æˆ‘ä»¬æ’ä¸Šçš„ç¡¬ç›˜ï¼Œæ­¤æ—¶æˆ‘ä»¬å¯ä»¥æŒ‚è½½åˆ°æŒ‡å®šç›®å½•ä¸‹ï¼š sudo mount Devideåç§° è‡ªå®šä¹‰çš„æŒ‡å®šç›®å½• ä¸¾ä¾‹ï¼š sudo mount /dev/sda1 /media/pi/O è®°å¾—å…ˆåˆ›å»ºä¸€ä¸‹storageæ–‡ä»¶å¤¹sudo mkdir /media/pi/O å†æ¬¡æŸ¥çœ‹ç¡¬ç›˜çŠ¶æ€df -hï¼Œæ­¤æ—¶/dev/sda1å·²ç»æŒ‚è½½ä¸Šå»äº†ã€‚ ä»¥ä¸Šå°±æ˜¯æ‰‹åŠ¨æŒ‚è½½çš„æ–¹å¼ï¼Œä½†æ˜¯è¿«äºæ–­ç”µé‡å¯çš„é—®é¢˜ï¼Œæ¯æ¬¡æŒ‚è½½æœ‰ç‚¹éº»çƒ¦ï¼Œæ‰€ä»¥è®¾ç½®å¯åŠ¨æ—¶è‡ªåŠ¨æŒ‚è½½ç¡¬ç›˜æ˜¯ä¸ªä¸é”™çš„åŠæ³•
è‡ªåŠ¨æŒ‚è½½ç¡¬ç›˜ åœ¨ç³»ç»Ÿå¼€æœºæ—¶ä¼šä¸»åŠ¨è¯»å–/etc/fstabè¿™ä¸ªæ–‡ä»¶ä¸­çš„å†…å®¹ï¼Œæ ¹æ®æ–‡ä»¶é‡Œé¢çš„é…ç½®æŒ‚è½½ç£ç›˜ã€‚ æ‰€ä»¥æˆ‘ä»¬åªéœ€åœ¨/etc/fstabåŠ å…¥æˆ‘ä»¬ç¡¬ç›˜ä¿¡æ¯å³å¯ã€‚ é¦–å…ˆç¼–è¾‘æ–‡ä»¶ï¼šsudo vi /etc/fstab åŠ å…¥UUID æŒ‡å®šç›®å½• ç¡¬ç›˜æ–‡ä»¶ç³»ç»Ÿæ ¼å¼ defaults 0 0
å½“ä½ ä¸çŸ¥é“ç¡¬ç›˜æ–‡ä»¶ç³»ç»Ÿæ ¼å¼æ—¶ï¼Œå¯ä»¥é€šè¿‡sudo blkidæŸ¥çœ‹ç¡¬ç›˜çš„UUIDå’ŒTYPE ä¸¾ä¾‹ï¼š UUID=&quot;34D58C3DFA562624&quot; /media/pi/O ntfs defaults 0 0 smbæ–‡ä»¶å…±äº« å®‰è£… é¦–å…ˆå®‰è£…ä¸€ä¸‹sambaæœåŠ¡ï¼š"/>

  
  
</head>


  <body class="not-ready" data-menu="true">
    <header class="header">
  
  <p class="logo">
    <a class="site-name" href="https://cylllllll.github.io">cy&#39;s Blog ğŸ‰</a><a class="btn-dark"></a>
  </p>
  

  <script>
    let bodyClx = document.body.classList;
    let btnDark = document.querySelector('.btn-dark');
    let sysDark = window.matchMedia('(prefers-color-scheme: dark)');
    let darkVal = localStorage.getItem('dark');

    let setDark = (isDark) => {
      bodyClx[isDark ? 'add' : 'remove']('dark');
      localStorage.setItem('dark', isDark ? 'yes' : 'no');
    };

    setDark(darkVal ? darkVal === 'yes' : sysDark.matches);
    requestAnimationFrame(() => bodyClx.remove('not-ready'));

    btnDark.addEventListener('click', () => setDark(!bodyClx.contains('dark')));
    sysDark.addEventListener('change', (event) => setDark(event.matches));
  </script>

  
  
  <nav class="menu">
    
    <a class="" href="/">Post</a>
    
    <a class="" href="/about/">About</a>
    
    <a class="" href="/puzzle/">puzzle</a>
    
  </nav>
  

  
  <nav class="social">
    
    <a
      class="github"
      style="--url: url(./github.svg)"
      href="https://github.com/cylllllll"
      target="_blank"
    ></a>
    
  </nav>
  
</header>


    <main class="main">

<article class="post-single">
  <header class="post-title">
    <p>
      
      <time>Sep 27, 2021</time>
      
      
    </p>
    <h1>æ ‘è“æ´¾æ­å»ºä½é…ç‰ˆæ–‡ä»¶å­˜å‚¨/å®¶åº­å½±éŸ³åº“</h1>
  </header>
  <section class="post-content"><p>å®¶é‡Œæœ‰ä¸ª Raspberry Pi 4B åªè£…äº† HomeBridge æ¥æ¥å…¥å®¶ç”µæ„Ÿè§‰æœ‰ç‚¹æµªè´¹ï¼Œæ­£å¥½åˆæœ‰ç®€å•çš„å®¶åº­å½±éŸ³åº“éœ€æ±‚ï¼Œæ‰€ä»¥å°±æœ‰äº†è¿™ç¯‡æ–‡ç« ã€‚</p>
<p>Raspberry Pi 4B è¿™ä»£æ­é…åƒå…†ç½‘å£å’Œ USB3.0 ï¼Œç»ˆäºæ¢æ‰äº†ä¸€ç›´ä»¤äººè¯Ÿç—…çš„ USB2.0 ï¼Œè‡³æ­¤é€Ÿåº¦ç†è®ºä¸Šå¯ä»¥è·‘æ»¡åƒå…†å¸¦å®½ï¼ŒåŸºæœ¬ä¸Šèƒ½æ»¡è¶³æˆ‘çš„æ—¥å¸¸éœ€æ±‚ã€‚</p>
<p>éœ€è¦è®¾å¤‡ææ–™ï¼š
Raspberry Pi 4B æ­è½½ Raspberry Pi OSï¼ˆå…¶ä»–çš„å¯ä»¥
TFå¡ï¼ˆåšç³»ç»Ÿç›˜ï¼‰
åƒå…†è·¯ç”±å™¨
CAT6ç½‘çº¿
ä¸€ä¸ªç¡¬ç›˜</p>
<h2 id="ç¡¬ç›˜æŒ‚è½½">ç¡¬ç›˜æŒ‚è½½</h2>
<h3 id="æ‰‹åŠ¨æŒ‚è½½ç¡¬ç›˜">æ‰‹åŠ¨æŒ‚è½½ç¡¬ç›˜</h3>
<p>æ¯•ç«ŸTFå¡åšç³»ç»Ÿç›˜ä¹Ÿå­˜ä¸äº†å¤šå°‘æ•°æ®ï¼Œæ‰€ä»¥ç¬¬ä¸€ä»¶äº‹å°±æ˜¯æŠŠå‡†å¤‡å¥½çš„ç£ç›˜æŒ‚è½½ä¸Šï¼Œæˆ‘ç”¨çš„æ˜¯æ—§ç”µè„‘æ‹†ä¸‹æ¥è¥¿æ•°æœºæ¢°ç¡¬ç›˜ï¼Œä¹°äº†ä¸ªç¡¬ç›˜ç›’è®©å®ƒå‘æŒ¥ä½™çƒ­ã€‚
é¦–å…ˆæ’ä¸Šç¡¬ç›˜é€šè¿‡<code>sudo fdisk -l</code>æŸ¥çœ‹ä»¥ä¸‹ç¡¬ç›˜çŠ¶æ€ï¼š
<img src="https://i.loli.net/2021/09/10/JWhl8TP6qfEkzcS.jpg" alt="JWhl8TP6qfEkzcS">
è¿™ä¸ªå°±æ˜¯æˆ‘ä»¬æ’ä¸Šçš„ç¡¬ç›˜ï¼Œæ­¤æ—¶æˆ‘ä»¬å¯ä»¥æŒ‚è½½åˆ°æŒ‡å®šç›®å½•ä¸‹ï¼š
<code>sudo mount Devideåç§°  è‡ªå®šä¹‰çš„æŒ‡å®šç›®å½•</code>
ä¸¾ä¾‹ï¼š <code>sudo mount /dev/sda1  /media/pi/O</code>
è®°å¾—å…ˆåˆ›å»ºä¸€ä¸‹storageæ–‡ä»¶å¤¹<code>sudo mkdir /media/pi/O</code>
å†æ¬¡æŸ¥çœ‹ç¡¬ç›˜çŠ¶æ€<code>df -h</code>ï¼Œæ­¤æ—¶/dev/sda1å·²ç»æŒ‚è½½ä¸Šå»äº†ã€‚
<img src="https://i.loli.net/2021/09/10/yLdmboerjQcRJYO.jpg" alt="yLdmboerjQcRJYO">
ä»¥ä¸Šå°±æ˜¯æ‰‹åŠ¨æŒ‚è½½çš„æ–¹å¼ï¼Œä½†æ˜¯è¿«äºæ–­ç”µé‡å¯çš„é—®é¢˜ï¼Œæ¯æ¬¡æŒ‚è½½æœ‰ç‚¹éº»çƒ¦ï¼Œæ‰€ä»¥è®¾ç½®å¯åŠ¨æ—¶è‡ªåŠ¨æŒ‚è½½ç¡¬ç›˜æ˜¯ä¸ªä¸é”™çš„åŠæ³•</p>
<h3 id="è‡ªåŠ¨æŒ‚è½½ç¡¬ç›˜">è‡ªåŠ¨æŒ‚è½½ç¡¬ç›˜</h3>
<p>åœ¨ç³»ç»Ÿå¼€æœºæ—¶ä¼šä¸»åŠ¨è¯»å–/etc/fstabè¿™ä¸ªæ–‡ä»¶ä¸­çš„å†…å®¹ï¼Œæ ¹æ®æ–‡ä»¶é‡Œé¢çš„é…ç½®æŒ‚è½½ç£ç›˜ã€‚
æ‰€ä»¥æˆ‘ä»¬åªéœ€åœ¨/etc/fstabåŠ å…¥æˆ‘ä»¬ç¡¬ç›˜ä¿¡æ¯å³å¯ã€‚
é¦–å…ˆç¼–è¾‘æ–‡ä»¶ï¼š<code>sudo vi /etc/fstab</code>
åŠ å…¥<code>UUID æŒ‡å®šç›®å½• ç¡¬ç›˜æ–‡ä»¶ç³»ç»Ÿæ ¼å¼ defaults 0 0</code></p>
<ul>
<li>å½“ä½ ä¸çŸ¥é“ç¡¬ç›˜æ–‡ä»¶ç³»ç»Ÿæ ¼å¼æ—¶ï¼Œå¯ä»¥é€šè¿‡<code>sudo blkid</code>æŸ¥çœ‹ç¡¬ç›˜çš„UUIDå’ŒTYPE
<img src="https://i.loli.net/2021/09/10/S4ovtXGLNCs87Mx.jpg" alt="S4ovtXGLNCs87Mx">
ä¸¾ä¾‹ï¼š<code> UUID=&quot;34D58C3DFA562624&quot; /media/pi/O ntfs defaults 0 0</code></li>
</ul>
<h2 id="smbæ–‡ä»¶å…±äº«">smbæ–‡ä»¶å…±äº«</h2>
<h3 id="å®‰è£…">å®‰è£…</h3>
<p>é¦–å…ˆå®‰è£…ä¸€ä¸‹sambaæœåŠ¡ï¼š</p>
<pre tabindex="0"><code>sudo apt-get update
sudo apt-get install samba
</code></pre><h3 id="é…ç½®">é…ç½®</h3>
<p>Sambaé…ç½®æ–‡ä»¶é€šå¸¸åœ¨<code>/etc/samba/</code>è·¯å¾„ä¸‹ï¼Œç¼–è¾‘Sambaé…ç½®æ–‡ä»¶ï¼š</p>
<pre tabindex="0"><code>sudo vi /etc/samba/smb.conf
</code></pre><p>åœ¨é…ç½®æ–‡ä»¶åº•éƒ¨æ·»åŠ å¦‚ä¸‹é…ç½®ï¼š</p>
<pre tabindex="0"><code>[NAS]
   comment = NAS
   browseable = yes
   path = /media/pi/O
   valid users = pi
   browseable = yes
   public = yes
   read only = no
   writeable = yes
   create mask = 0777
   directory mask = 0777
</code></pre><p>é…ç½®å‚æ•°ï¼š</p>
<ul>
<li>[NAS] è¡¨ç¤ºè¿™æ˜¯ä¸€ç»„å…±äº«è®¾ç½®ã€‚åœ¨ Samba ä¸­é€šè¿‡ä¸­æ‹¬å· [xxx] çš„å½¢å¼æ¥æ ‡è¯†åŒºåˆ†ã€‚</li>
<li>comment = &ldquo;xxxx&rdquo; è¡¨ç¤ºå¯¹è¯¥å…±äº«çš„æè¿°ä¿¡æ¯ã€‚</li>
<li>path = &ldquo;xxxx&rdquo; è¡¨ç¤ºå¯¹è¯¥å…±äº«è·¯å¾„ã€‚é»˜è®¤æƒ…å†µä¸‹ä¸è®¾ç½® path çš„è¯ï¼Œå°±æ˜¯å½“å‰è´¦æˆ·çš„Homeç›®å½•ã€‚</li>
<li>valid users = pi è¡¨ç¤ºå…è®¸è®¿é—®è¯¥å…±äº«çš„ç”¨æˆ·ï¼Œå¦‚æœæ˜¯å¤šä¸ªç”¨æˆ·å¯ä»¥é€šè¿‡é€—å· , æ¥åˆ†éš”ï¼›ä¹Ÿå¯ä»¥é€šè¿‡ @+ç»„å çš„æ–¹å¼æ¥è®¾ç½®å¯è®¿é—®çš„ç¾¤ç»„ã€‚</li>
<li>browseable = yes/no è¡¨ç¤ºè¯¥å…±äº«æ˜¯å¦å¯ä»¥æµè§ˆã€‚</li>
<li>public = yes/no è¡¨ç¤ºè¯¥å…±äº«æ˜¯å¦å…è®¸ guest è´¦æˆ·è®¿é—®ã€‚</li>
<li>read only = yes/no è¡¨ç¤ºæ˜¯å¦å¯è¯»å†™ã€‚</li>
<li>writable = yes/no è¡¨ç¤ºæ˜¯å¦å¯å†™ã€‚</li>
<li>create mask = 0777 è¡¨ç¤ºå®¢æˆ·ç«¯ä¸Šä¼ æ–‡ä»¶çš„é»˜è®¤æƒé™</li>
<li>directory mask = 0777 è¡¨ç¤ºå®¢æˆ·ç«¯åˆ›å»ºç›®å½•çš„é»˜è®¤æƒé™</li>
</ul>
<h3 id="è®¾ç½®è´¦æˆ·">è®¾ç½®è´¦æˆ·</h3>
<p>é…ç½®å®Œæ¯•åæ‰§è¡Œ<code>sudo smbpasswd -a pi</code> ï¼ˆè¿™é‡Œçš„piæ˜¯æˆ‘è®¾ç½®çš„ç”¨æˆ·åï¼Œå¯ä»¥è‡ªè¡Œè®¾ç½®ï¼‰æ¥è®¾ç½®ç”¨æˆ·åå¯†ç ï¼Œè®¾ç½®å®Œæ¯•åé‡å¯sambaæœåŠ¡<code>sudo systemctl restart smbd</code></p>
<ul>
<li>æ³¨ï¼šå…³äºSambaè´¦æˆ·ï¼ŒSamba éœ€è¦ Linux è´¦æˆ·æ‰èƒ½ä½¿ç”¨ï¼Œå¯ä»¥ä½¿ç”¨ å·²æœ‰è´¦æˆ· æˆ– åˆ›å»ºæ–°ç”¨æˆ·ã€‚è™½ç„¶ç”¨æˆ·åå¯ä»¥å’Œ Linux ç³»ç»Ÿå…±äº«ï¼Œä½† Samba ä½¿ç”¨çš„æ˜¯å•ç‹¬çš„å¯†ç ç®¡ç†ã€‚</li>
</ul>
<h3 id="macosè®¿é—®">macOSè®¿é—®</h3>
<p>åªéœ€è¦æ‰“å¼€ Finder ï¼Œé€‰æ‹© èœå•æ  â€“&gt; å‰å¾€ â€“&gt; è¿æ¥æœåŠ¡å™¨ (æˆ–è€…ç›´æ¥ô€†”K)ï¼Œåœ¨å¼¹å‡ºçš„çª—å£ä¸­è¾“å…¥<code>smb://æ ‘è“æ´¾çš„IPåœ°å€</code> åé€‰æ‹© è¿æ¥ â€“ è¾“å…¥è®¾ç½®çš„è´¦æˆ·å’Œå¯†ç åå°±èƒ½è®¿é—®äº†ã€‚
<img src="https://i.loli.net/2021/09/28/1WwiET5QnfpoFYV.png" alt="1WwiET5QnfpoFYV"></p>
<h2 id="qbittorrentä¸‹è½½å™¨">qbittorrentä¸‹è½½å™¨</h2>
<h3 id="é€šè¿‡dockerå®‰è£…">é€šè¿‡dockerå®‰è£…</h3>
<h4 id="å®‰è£…docker">å®‰è£…docker</h4>
<p>ä¸‹è½½ä¸€é”®å®‰è£…è„šæœ¬<code>curl -fsSL get.docker.com -o get-docker.sh</code>
æ‰§è¡Œå®‰è£…ï¼š</p>
<pre tabindex="0"><code>sudo sh get-docker.sh
</code></pre><p>æŠŠå½“å‰ç”¨æˆ·æ·»åŠ åˆ°dockerç»„ï¼Œå°±ä¸ç”¨æ¯æ¬¡æ‰§è¡Œdockeræ—¶sudoäº†ï¼š</p>
<pre tabindex="0"><code>sudo usermod -aG docker pi
</code></pre><h4 id="æ‹‰å–é•œåƒå’Œå®‰è£…">æ‹‰å–é•œåƒå’Œå®‰è£…</h4>
<pre tabindex="0"><code>docker pull linuxserver/qbittorrent:arm32v7-latest
</code></pre><p>å…¶ä¸­<code>arm32v7-latest</code>è¿™ä¸ªtagä»…é€‚ç”¨äºæ ‘è“æ´¾è¿™ç§ARMæ¶æ„çš„</p>
<pre tabindex="0"><code>docker run -d \
--name=qbittorrent \
-e PUID=1000 \
-e PGID=1000 \
-e TZ=Asia/Shanghai \
-e WEBUI_PORT=8181 \
-p 6881:6881 \
-p 6881:6881/udp \
-p 8181:8181 \
-v /config
-v /media/pi/0/qBittorrent/config:/config \
-v /media/pi/0/qBittorrent/downloads:/downloads \
--restart unless-stopped \
linuxserver/qbittorrent:arm32v7-latest
</code></pre><p>æœ€ååœ¨æµè§ˆå™¨è¾“å…¥<code>æ ‘è“æ´¾IPåœ°å€:8181</code>ï¼Œè¾“å…¥é»˜è®¤ç”¨æˆ·åå’Œå¯†ç å°±å¯ä»¥ç™»é™†äº†ï¼š
ç”¨æˆ·åï¼šadmin
å¯†ç ï¼šadminadmin</p>
<ul>
<li>
<p>åœ¨ä¸Šé¢çš„å‘½ä»¤ä¸­ï¼Œæˆ‘ä»¬è‡ªå·±å¸¸è®¾ç½®çš„ï¼Œä¹Ÿå°±ä¸‹é¢å‡ å¤„ï¼š</p>
<ol>
<li>è®¾ç½®WEBUIç«¯å£å·ï¼Œå¯ä»¥æŒ‰éœ€è®¾ç½®ï¼š</li>
</ol>
<pre tabindex="0"><code>-e WEBUI_PORT=8181 
-p 8181:8181 
</code></pre><ol start="2">
<li>è®¾ç½®qBittorrentçš„ä¸‹è½½è·¯å¾„å’Œé…ç½®è·¯å¾„ï¼Œä¹Ÿå¯æŒ‰éœ€è®¾ç½®ï¼š</li>
</ol>
<pre tabindex="0"><code>-v /media/pi/0/qBittorrent/config-v /media/pi/0/qBittorrent/downloads
</code></pre></li>
</ul>
<p>è¿™é‡Œæ¨èä¸‹<a href="https://servercat.app">ServerCat</a>è¿™ä¸ªè½¯ä»¶ï¼Œå¯ä»¥å¾ˆæ–¹ä¾¿æŸ¥çœ‹æœåŠ¡å™¨çŠ¶æ€ï¼Œéƒ¨ç½²dockerç­‰
<img src="https://i.loli.net/2021/09/28/NshKBYIe6yczmjW.jpg" alt="alt-text-1"> <img src="https://i.loli.net/2021/09/28/tsELquoX7MxnzOc.jpg" alt="alt-text-2"></p>
<h3 id="è‡ªè¡Œç¼–è¯‘">è‡ªè¡Œç¼–è¯‘</h3>
<p>å½“dockerå®‰è£…æ— æ³•æ»¡è¶³ä½ æ—¶å¯ä»¥è€ƒè™‘è‡ªè¡Œç¼–è¯‘ï¼ŒqBittorrentçš„Wikiæœ‰<a href="https://github.com/qbittorrent/qBittorrent/wiki/Compilation:-Raspberry-Pi-OS-and-DietPi">è¯¦ç»†ç¼–è¯‘æ­¥éª¤</a>å¯ä»¥è¿›è¡Œå‚è€ƒï¼Œè¿™é‡Œä¸å†èµ˜è¿°äº†</p>
<h3 id="qbittorrentä¸»é¢˜">qBittorrentä¸»é¢˜</h3>
<p>qBittorrentçš„Wikiæœ‰åˆ—å‡ºä¸€äº›<a href="https://github.com/qbittorrent/qBittorrent/wiki/List-of-known-alternate-WebUIs">éå®˜æ–¹WebUI</a>
è¿™é‡Œæ¨èä¸¤ä¸ªæˆ‘ç”¨è¿‡çš„ï¼š</p>
<ol>
<li>
<p><a href="https://github.com/CzBiX/qb-web">CzBiX/qb-web</a></p>
</li>
<li>
<p><a href="https://github.com/CzBiX/qb-web">WDaan/VueTorrent</a></p>
</li>
</ol>
<h2 id="å¤–ç½‘è®¿é—®">å¤–ç½‘è®¿é—®</h2>
<p>å¦‚æœä½ æœ‰å…¬ç½‘IPçš„è¯å°±è·³è¿‡è¿™éƒ¨åˆ†å§</p>
<h3 id="frp">frp</h3>
<p>frpå¯ä»¥é€šè¿‡dockeréƒ¨ç½²ï¼ˆdockerçš„å®‰è£…æ–¹æ³•ä¸å†èµ˜è¿°ï¼‰ä¸»è¦åˆ†ä¸ºä¸¤æ­¥ï¼ŒæœåŠ¡ç«¯å’Œå®¢æˆ·ç«¯çš„åˆ†åˆ«é…ç½®ã€‚</p>
<h4 id="å®¢æˆ·ç«¯éƒ¨ç½²frpc">å®¢æˆ·ç«¯éƒ¨ç½²frpc</h4>
<ol>
<li>é¦–å…ˆæ‹‰å–é•œåƒæ–‡ä»¶ï¼š</li>
</ol>
<pre tabindex="0"><code>docker pull snowdreamtech/frpc
</code></pre><ol start="2">
<li>å¯åŠ¨frpcï¼š</li>
</ol>
<pre tabindex="0"><code>docker run -d \--name frpc \--restart=always \--network host  \-v /etc/frp/frpc.ini:/etc/frp/frpc.ini \--name frpc \snowdreamtech/frpc
</code></pre><ul>
<li>
<p>åœ¨ä¸Šé¢çš„å‘½ä»¤ä¸­å¯æŒ‰éœ€è®¾ç½®frpcçš„é…ç½®æ–‡ä»¶è·¯å¾„ï¼š</p>
<pre tabindex="0"><code>-v /etc/frp/frpc.ini:/etc/frp/frpc.ini     
</code></pre></li>
</ul>
<ol start="3">
<li>é…ç½®</li>
</ol>
<pre tabindex="0"><code>[common]
# server_addrä¸ºfrpçš„æœåŠ¡å™¨ipæˆ–å·²è§£æåˆ°è¯¥ipçš„åŸŸå
server_addr = x.x.x.x
# server_portä¸æœåŠ¡ç«¯é…ç½®bind_portä¸€è‡´
server_port = 7000
privilege_token = xxxx

[http web]
type = http
local_port = 8181
custom_domains = one.yourdomain.com
</code></pre><h4 id="æœåŠ¡å™¨ç«¯éƒ¨ç½²frps">æœåŠ¡å™¨ç«¯éƒ¨ç½²frps</h4>
<ol>
<li>é¦–å…ˆæ‹‰å–é•œåƒæ–‡ä»¶ï¼š</li>
</ol>
<pre tabindex="0"><code>docker pull snowdreamtech/frps
</code></pre><ol start="2">
<li>å¯åŠ¨frpsï¼š</li>
</ol>
<pre tabindex="0"><code>docker run -d \
--name frps \
--restart=always \
--network host  \
-v /etc/frp/frps.ini:/etc/frp/frps.ini \
--name frpc \
snowdreamtech/frps
</code></pre><ul>
<li>
<p>åœ¨ä¸Šé¢çš„å‘½ä»¤ä¸­å¯æŒ‰éœ€è®¾ç½®frpsçš„é…ç½®æ–‡ä»¶è·¯å¾„ï¼š</p>
<pre tabindex="0"><code>-v /etc/frp/frps.ini:/etc/frp/frps.ini  
</code></pre></li>
</ul>
<ol start="3">
<li>é…ç½®</li>
</ol>
<pre tabindex="0"><code>[common]
bind_port = 7000
# å¯ç”¨é¢æ¿
dashboard_port = 7500
# é¢æ¿ç™»å½•åå’Œå¯†ç 
dashboard_user = admin
dashboard_pwd = 12345678
# ä½¿ç”¨httpä»£ç†å¹¶ä½¿ç”¨8888ç«¯å£è¿›è¡Œç©¿é€
vhost_http_port = 8888
# ä»¤ç‰Œ
privilege_token = xxxx
</code></pre></section>

  
  

  
  
  
  <nav class="post-nav">
     
    <a class="next" href="https://cylllllll.github.io/post/timemachine/"><span>æ ‘è“æ´¾4åšTime Machine</span><span>â†’</span></a>
    
  </nav>
  

  
  
</article>

</main>

    <footer class="footer">
  <p>&copy; 2022 <a href="https://cylllllll.github.io">cy&#39;s Blog ğŸ‰</a></p>
  <p>Powered by <a href="https://gohugo.io/" rel="noopener" target="_blank">Hugoï¸ï¸</a>ï¸</p>
  <p>
    <a href="https://github.com/nanxiaobei/hugo-paper" rel="noopener" target="_blank">Paper 5.1</a>
  </p>
</footer>

  </body>
</html>
